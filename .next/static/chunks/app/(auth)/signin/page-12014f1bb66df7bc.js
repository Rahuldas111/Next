(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{5398:function(e,s,a){Promise.resolve().then(a.bind(a,3864))},3864:function(e,s,a){"use strict";a.r(s);var l=a(7437),n=a(2265),r=a(6463),i=a(998),c=a(7138);a(7414),s.default=()=>{let e=(0,r.useRouter)(),[s,a]=(0,n.useState)({email:"",password:""}),{data:t,status:o}=(0,i.useSession)(),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null);function v(e){a(s=>({...s,[e.target.name]:e.target.value}))}async function x(a){a.preventDefault(),u(!0),h(null);try{let a=await (0,i.signIn)("credentials",{email:s.email,password:s.password,redirect:!1});if(a.error){h(null==a?void 0:a.error),u(!1);return}if("authenticated"===o){var l,n;(null==t?void 0:null===(l=t.user)||void 0===l?void 0:l.roles)==="Admin"&&e.replace("/admin"),(null==t?void 0:null===(n=t.user)||void 0===n?void 0:n.roles)==="User"&&e.replace("/")}}catch(e){h(null==e?void 0:e.message),u(!1)}}return(0,n.useEffect)(()=>{if("authenticated"===o){var s,a;(null==t?void 0:null===(s=t.user)||void 0===s?void 0:s.roles)==="Admin"&&e.replace("/admin"),(null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.roles)==="User"&&e.replace("/")}},[t,o,e]),(0,l.jsx)("body",{children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("section",{className:"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row justify-content-center",children:(0,l.jsx)("div",{className:"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center",children:(0,l.jsx)("div",{className:"card mb-3",children:(0,l.jsxs)("div",{className:"card-body",children:[m&&(0,l.jsx)("div",{style:{color:"red",textAlign:"center"},children:m}),(0,l.jsxs)("div",{className:"pt-4 pb-2",children:[(0,l.jsx)("h5",{className:"card-title text-center pb-0 fs-4",children:"Login"}),(0,l.jsx)("p",{className:"text-center small",children:"Enter your email & password to login"})]}),(0,l.jsxs)("form",{onSubmit:x,className:"row g-3 needs-validation",children:[(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"yourUsername",className:"form-label",children:"Email"}),(0,l.jsxs)("div",{className:"input-group has-validation",children:[(0,l.jsx)("span",{className:"input-group-text",id:"inputGroupPrepend",children:"@"}),(0,l.jsx)("input",{type:"email",name:"email",className:"form-control",id:"email",onChange:e=>v(e)}),(0,l.jsx)("div",{className:"invalid-feedback",children:"Please enter your email."})]})]}),(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"yourPassword",className:"form-label",children:"Password"}),(0,l.jsx)("input",{type:"password",name:"password",className:"form-control",id:"password",onChange:e=>v(e)}),(0,l.jsx)("div",{className:"invalid-feedback",children:"Please enter your password!"})]}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",name:"remember",value:"true",id:"rememberMe"}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:"rememberMe",children:"Remember me"})]})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("button",{className:"btn btn-primary w-100",type:"submit",disabled:d,children:d?"Loading...":"Login"})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("p",{className:"small mb-0",children:["Dont have account? ",(0,l.jsx)(c.default,{href:"/signup",children:"Create an account"})]})})]})]})})})})})})})})}},6463:function(e,s,a){"use strict";var l=a(1169);a.o(l,"usePathname")&&a.d(s,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}})},7414:function(){}},function(e){e.O(0,[610,616,138,998,971,23,744],function(){return e(e.s=5398)}),_N_E=e.O()}]);