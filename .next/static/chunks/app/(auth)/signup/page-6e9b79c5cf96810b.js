(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{1665:function(e,s,a){Promise.resolve().then(a.bind(a,1148))},1148:function(e,s,a){"use strict";a.r(s);var l=a(7437),n=a(2265),i=a(998),c=a(7138),t=a(6463);a(7414),s.default=()=>{let e=(0,t.useRouter)(),[s,a]=(0,n.useState)({name:"",email:"",password:""}),{data:r,status:d}=(0,i.useSession)(),[o,m]=(0,n.useState)(!1),[u,h]=(0,n.useState)(null);function f(e){a(s=>({...s,[e.target.name]:e.target.value}))}async function x(a){if(a.preventDefault(),m(!0),h(null),""===s.name||""===s.email||""===s.password){m(!1),h("Please fill all details!");return}try{let a=await fetch("api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok)m(!1),h(null),e.replace("/signin");else{let e=await a.json();h(e.message),m(!1)}}catch(e){}}return(0,n.useEffect)(()=>{if("authenticated"===d){var s,a;(null==r?void 0:null===(s=r.user)||void 0===s?void 0:s.roles)==="Admin"&&e.replace("/admin"),(null==r?void 0:null===(a=r.user)||void 0===a?void 0:a.roles)==="User"&&e.replace("/")}},[r,d,e]),(0,l.jsx)("body",{children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("section",{className:"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row justify-content-center",children:(0,l.jsx)("div",{className:"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center",children:(0,l.jsx)("div",{className:"card mb-3",children:(0,l.jsxs)("div",{className:"card-body",children:[u&&(0,l.jsx)("div",{style:{color:"red",textAlign:"center"},children:u}),(0,l.jsxs)("div",{className:"pt-4 pb-2",children:[(0,l.jsx)("h5",{className:"card-title text-center pb-0 fs-4",children:"Create an Account"}),(0,l.jsx)("p",{className:"text-center small",children:"Enter your personal details to create account"})]}),(0,l.jsxs)("form",{className:"row g-3 needs-validation",onSubmit:x,children:[(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"yourName",className:"form-label",children:"Your Name"}),(0,l.jsx)("input",{type:"text",name:"name",className:"form-control",id:"name",onChange:e=>f(e)}),(0,l.jsx)("div",{className:"invalid-feedback",children:"Please, enter your name!"})]}),(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"yourEmail",className:"form-label",children:"Your Email"}),(0,l.jsxs)("div",{className:"input-group has-validation",children:[(0,l.jsx)("span",{className:"input-group-text",id:"inputGroupPrepend",children:"@"}),(0,l.jsx)("input",{type:"email",name:"email",className:"form-control",id:"email",onChange:e=>f(e)}),(0,l.jsx)("div",{className:"invalid-feedback",children:"Please enter a valid Email adddress!"})]})]}),(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"yourPassword",className:"form-label",children:"Password"}),(0,l.jsx)("input",{type:"password",name:"password",className:"form-control",id:"password",onChange:e=>f(e)}),(0,l.jsx)("div",{className:"invalid-feedback",children:"Please enter your password!"})]}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",name:"terms",type:"checkbox",value:"",id:"acceptTerms"}),(0,l.jsxs)("label",{className:"form-check-label",htmlFor:"acceptTerms",children:["I agree and accept the ",(0,l.jsx)("a",{href:"#",children:"terms and conditions"})]}),(0,l.jsx)("div",{className:"invalid-feedback",children:"You must agree before submitting."})]})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("button",{className:"btn btn-primary w-100",type:"submit",disabled:o,children:o?"Loading...":"Create Account"})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("p",{className:"small mb-0",children:["Already have an account? ",(0,l.jsx)(c.default,{href:"/signin",children:"Log in"})]})})]})]})})})})})})})})}},6463:function(e,s,a){"use strict";var l=a(1169);a.o(l,"usePathname")&&a.d(s,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}})},7414:function(){}},function(e){e.O(0,[610,616,138,998,971,23,744],function(){return e(e.s=1665)}),_N_E=e.O()}]);