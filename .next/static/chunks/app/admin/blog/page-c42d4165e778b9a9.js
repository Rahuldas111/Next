(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{8500:function(e,s,l){Promise.resolve().then(l.bind(l,5153))},5153:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return n}});var t=l(7437),a=l(6648),c=l(7138),i=l(2265);function n(){let[e,s]=(0,i.useState)(null),[l,n]=(0,i.useState)([]);(0,i.useEffect)(()=>{d()},[]);let d=async()=>{let e=await fetch("../api/admin/blog",{method:"GET"});if(e.ok){let s=await e.json();console.log("blog = ",s),n(s.blog)}else s((await e.json()).message)},r=async e=>{if(confirm("Are you sure?")){let l=await fetch("../api/admin/blog?id=".concat(e),{method:"DELETE"});l.ok?d():s((await l.json()).message)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"pagetitle",children:[(0,t.jsx)("h1",{children:"Blog"}),(0,t.jsx)("nav",{children:(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(c.default,{href:"/admin",children:"Home"})}),(0,t.jsx)("li",{className:"breadcrumb-item active",children:"Blog"})]})})]}),(0,t.jsx)("section",{className:"section",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col-lg-12",children:[e&&(0,t.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[e,(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("h5",{className:"card-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("div",{children:"List"}),(0,t.jsx)("div",{children:(0,t.jsx)(c.default,{className:"btn btn-primary",href:"/admin/blog/add",children:"Add"})})]}),(0,t.jsxs)("table",{className:"table table-striped",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",children:"#"}),(0,t.jsx)("th",{scope:"col",children:"Title"}),(0,t.jsx)("th",{scope:"col",children:"Category Name"}),(0,t.jsx)("th",{scope:"col",children:"Sub Cat Name"}),(0,t.jsx)("th",{scope:"col",children:"Image"}),(0,t.jsx)("th",{scope:"col",children:"Description"}),(0,t.jsx)("th",{scope:"col",children:"Action"})]})}),(0,t.jsx)("tbody",{children:(null==l?void 0:l.length)>0&&(null==l?void 0:l.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"row",children:s+1}),(0,t.jsx)("td",{children:e.title}),(0,t.jsx)("td",{children:e.Category.name}),(0,t.jsx)("td",{children:e.SubCategory.name}),(0,t.jsx)("td",{children:(0,t.jsx)(a.default,{src:"".concat("http://localhost:3000","/blog/").concat(e.image),alt:e.image,width:"100",height:"100"})}),(0,t.jsx)("td",{children:e.description}),(0,t.jsxs)("td",{children:[(0,t.jsx)(c.default,{className:"btn btn-primary",href:"/admin/sub-category/".concat(e.id),children:"Edit"}),(0,t.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>r(e.id),children:"Delete"})]})]},s)))})]})]})})]})})})]})}}},function(e){e.O(0,[138,648,971,23,744],function(){return e(e.s=8500)}),_N_E=e.O()}]);