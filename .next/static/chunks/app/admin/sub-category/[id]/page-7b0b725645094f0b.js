(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{7607:function(e,a,s){Promise.resolve().then(s.bind(s,4619))},4619:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return c}});var t=s(7437),l=s(7138),n=s(6463),i=s(2265);function c(e){let{params:a}=e,s=(0,n.useRouter)(),[c,r]=(0,i.useState)([]),[d,o]=(0,i.useState)({cat_id:"",name:""}),[m,u]=(0,i.useState)(""),[h,b]=(0,i.useState)(!1),[j,x]=(0,i.useState)(null);(0,i.useEffect)(()=>{a.id&&u(a.id),f(),N(a.id)},[a]);let f=async()=>{let e=await fetch("../../api/admin/category",{method:"GET"});e.ok?r((await e.json()).category):x((await e.json()).message)},N=async e=>{let a=await fetch("../../api/admin/sub-category/".concat(e),{method:"GET"});if(a.ok){let e=await a.json();o(a=>({...a,cat_id:e.Subcategory.cat_id,name:e.Subcategory.name}))}else x((await a.json()).message)},g=e=>{o(a=>({...a,[e.target.name]:e.target.value}))},p=async e=>{e.preventDefault(),b(!0);try{let e=await fetch("../../api/admin/sub-category/".concat(m),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(e.ok)b(!1),x(null),s.replace("/admin/sub-category");else{let a=await e.json();x(a.message),b(!1)}}catch(e){x(null==e?void 0:e.message),b(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"pagetitle",children:[(0,t.jsx)("h1",{children:"SubCategory"}),(0,t.jsx)("nav",{children:(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(l.default,{href:"/admin",children:"Home"})}),(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(l.default,{href:"/admin/sub-category",children:"SubCategory"})}),(0,t.jsx)("li",{className:"breadcrumb-item active",children:"Update"})]})})]}),(0,t.jsx)("section",{className:"section",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col-lg-12",children:[j&&(0,t.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[j,(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h5",{className:"card-title",children:"SubCategory Update"}),(0,t.jsxs)("form",{onSubmit:p,children:[(0,t.jsxs)("div",{className:"row mb-3",children:[(0,t.jsx)("label",{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label",children:"Category Name"}),(0,t.jsx)("div",{className:"col-sm-10",children:(0,t.jsxs)("select",{id:"inputState",className:"form-select",name:"cat_id",value:d.cat_id,onChange:e=>g(e),children:[(0,t.jsx)("option",{selected:!0,children:"Choose Category"}),(null==c?void 0:c.length)>0&&(null==c?void 0:c.map((e,a)=>(0,t.jsx)("option",{value:e.id,children:e.name},a)))]})})]}),(0,t.jsxs)("div",{className:"row mb-3",children:[(0,t.jsx)("label",{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label",children:"Name"}),(0,t.jsx)("div",{className:"col-sm-10",children:(0,t.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:d.name,onChange:e=>g(e)})})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Loading...":"Update"}),(0,t.jsx)("button",{type:"reset",className:"btn btn-secondary",children:"Reset"})]})]})]})})]})})})]})}},6463:function(e,a,s){"use strict";var t=s(1169);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=7607)}),_N_E=e.O()}]);