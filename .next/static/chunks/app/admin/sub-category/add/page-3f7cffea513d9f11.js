(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{194:function(e,s,a){Promise.resolve().then(a.bind(a,3632))},3632:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return r}});var t=a(7437),l=a(7138),n=a(6463),i=a(2265);function r(){let e=(0,n.useRouter)(),[s,a]=(0,i.useState)([]),[r,c]=(0,i.useState)({cat_id:"",name:""}),[d,o]=(0,i.useState)(!1),[m,u]=(0,i.useState)(null);(0,i.useEffect)(()=>{h()},[]);let h=async()=>{let e=await fetch("../../api/admin/category",{method:"GET"});e.ok?a((await e.json()).category):u((await e.json()).message)},b=e=>{c(s=>({...s,[e.target.name]:e.target.value}))},j=async s=>{s.preventDefault(),o(!0);try{let s=await fetch("../../api/admin/sub-category/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(s.ok)o(!1),u(null),e.replace("/admin/sub-category");else{let e=await s.json();u(e.message),o(!1)}}catch(e){u(null==e?void 0:e.message),o(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"pagetitle",children:[(0,t.jsx)("h1",{children:"SubCategory"}),(0,t.jsx)("nav",{children:(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(l.default,{href:"/admin",children:"Home"})}),(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(l.default,{href:"/admin/sub-category",children:"SubCategory"})}),(0,t.jsx)("li",{className:"breadcrumb-item active",children:"Add"})]})})]}),(0,t.jsx)("section",{className:"section",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col-lg-12",children:[m&&(0,t.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[m,(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h5",{className:"card-title",children:"SubCategory Insert"}),(0,t.jsxs)("form",{onSubmit:j,children:[(0,t.jsxs)("div",{className:"row mb-3",children:[(0,t.jsx)("label",{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label",children:"Category Name"}),(0,t.jsx)("div",{className:"col-sm-10",children:(0,t.jsxs)("select",{id:"inputState",className:"form-select",name:"cat_id",onChange:e=>b(e),children:[(0,t.jsx)("option",{selected:!0,children:"Choose Category"}),(null==s?void 0:s.length)>0&&(null==s?void 0:s.map((e,s)=>(0,t.jsx)("option",{value:e.id,children:e.name},s)))]})})]}),(0,t.jsxs)("div",{className:"row mb-3",children:[(0,t.jsx)("label",{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label",children:"Name"}),(0,t.jsx)("div",{className:"col-sm-10",children:(0,t.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",onChange:e=>b(e)})})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Loading...":"Insert"}),(0,t.jsx)("button",{type:"reset",className:"btn btn-secondary",children:"Reset"})]})]})]})})]})})})]})}},6463:function(e,s,a){"use strict";var t=a(1169);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=194)}),_N_E=e.O()}]);